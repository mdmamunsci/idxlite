{"version":3,"file":"js/952.e7b36b1f.js","mappings":"kjBA8EA,MAAMA,GAAYC,EAAAA,EAAAA,KACZC,GAAYC,EAAAA,EAAAA,KACZC,GAASC,EAAAA,EAAAA,MAETC,GAAWC,EAAAA,EAAAA,IAAI,SACfC,GAAWD,EAAAA,EAAAA,IAAI,YAEfE,EAAcC,UAClB,IACE,MAAMC,QAAYC,EAAAA,EAAcC,KAAK,cAAe,CAClDP,SAAUA,EAASQ,MACnBN,SAAUA,EAASM,QAIrB,GAFAd,EAAUe,YAAYJ,EAAIK,KAAKA,MAE3BL,EAAIK,KAAKA,KAAM,CACjB,MAAMC,GAAQC,EAAAA,EAAAA,MACRC,GAAOC,EAAAA,EAAAA,MAETH,GAASE,IACXjB,EAAUmB,QAAQJ,GAClBf,EAAUoB,SAASH,EAAKb,SAAUa,EAAKI,OAEzCnB,EAAOoB,KAAK,QACd,CACF,CAAE,MAAOC,GACPC,QAAQC,MAAMF,EAChB,G,gEAxGAG,EAAAA,EAAAA,IAkEM,MAlENC,EAkEM,EAjEJC,EAAAA,EAAAA,IAgEM,MAhENC,EAgEM,C,aA5DJD,EAAAA,EAAAA,IAGM,OAHDE,MAAM,oBAAkB,EAC3BF,EAAAA,EAAAA,IAA0E,MAAtEE,MAAM,yDAAwD,QAClEF,EAAAA,EAAAA,IAAiE,KAA9DE,MAAM,8BAA6B,6B,KAIxCF,EAAAA,EAAAA,IA0CO,QA1CAG,UAAMC,EAAAA,EAAAA,IAAUzB,EAAW,aAAEuB,MAAM,a,EAExCF,EAAAA,EAAAA,IAcM,MAdNK,EAcM,E,SAbJL,EAAAA,EAAAA,IAOE,S,qCANSxB,EAAQQ,MAAAsB,GACjBC,KAAK,OACLC,SAAA,GACAC,aAAa,WACbP,MAAM,wMACNQ,YAAY,Y,iBALHlC,EAAAQ,S,aAOXgB,EAAAA,EAAAA,IAIQ,SAHNE,MAAM,uPACP,cAED,OAIFF,EAAAA,EAAAA,IAcM,MAdNW,EAcM,E,SAbJX,EAAAA,EAAAA,IAOE,S,qCANStB,EAAQM,MAAAsB,GACjBC,KAAK,WACLC,SAAA,GACAC,aAAa,mBACbP,MAAM,wMACNQ,YAAY,Y,iBALHhC,EAAAM,S,aAOXgB,EAAAA,EAAAA,IAIQ,SAHNE,MAAM,uPACP,cAED,M,aAIFF,EAAAA,EAAAA,IAKS,UAJPO,KAAK,SACLL,MAAM,oIACP,aAED,K,KAIFF,EAAAA,EAAAA,IAQI,IARJY,EAQI,C,qBAR8C,4BAEhD,KAAAC,EAAAA,EAAAA,IAKcC,EAAA,CAJZC,GAAG,UACHb,MAAM,+F,kBACP,IAEDc,EAAA,KAAAA,EAAA,K,QAFC,aAED,M,sBC3DR,MAAMC,EAAc,EAEpB,O","sources":["webpack://annual-report/./src/auth/LoginPage.vue","webpack://annual-report/./src/auth/LoginPage.vue?c672"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen flex items-center justify-center bg-[#f9f9f9]\">\r\n    <div\r\n      class=\"w-full max-w-md bg-white rounded-3xl shadow-xl p-10 relative overflow-hidden\"\r\n    >\r\n      <!-- Header -->\r\n      <div class=\"text-center mb-8\">\r\n        <h1 class=\"text-4xl font-extrabold text-[#e53935] tracking-wider\">SCI</h1>\r\n        <p class=\"text-gray-500 mt-2 text-lg\">Sign in to your account</p>\r\n      </div>\r\n\r\n      <!-- Form -->\r\n      <form @submit.prevent=\"handleLogin\" class=\"space-y-6\">\r\n        <!-- Email -->\r\n        <div class=\"relative\">\r\n          <input\r\n            v-model=\"username\"\r\n            type=\"text\"\r\n            required\r\n            autocomplete=\"username\"\r\n            class=\"peer w-full rounded-xl border border-gray-300 bg-white px-4 pt-5 pb-2 text-gray-700 placeholder-transparent focus:border-[#e53935] focus:ring-2 focus:ring-[#e53935]/30 focus:outline-none transition\"\r\n            placeholder=\"Username\"\r\n          />\r\n          <label\r\n            class=\"absolute left-4 top-2.5 text-gray-400 text-sm transition-all peer-placeholder-shown:top-5 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:top-2.5 peer-focus:text-[#e53935] peer-focus:text-sm pointer-events-none\"\r\n          >\r\n            Username\r\n          </label>\r\n        </div>\r\n\r\n        <!-- Password -->\r\n        <div class=\"relative\">\r\n          <input\r\n            v-model=\"password\"\r\n            type=\"password\"\r\n            required\r\n            autocomplete=\"current-password\"\r\n            class=\"peer w-full rounded-xl border border-gray-300 bg-white px-4 pt-5 pb-2 text-gray-700 placeholder-transparent focus:border-[#e53935] focus:ring-2 focus:ring-[#e53935]/30 focus:outline-none transition\"\r\n            placeholder=\"Password\"\r\n          />\r\n          <label\r\n            class=\"absolute left-4 top-2.5 text-gray-400 text-sm transition-all peer-placeholder-shown:top-5 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:top-2.5 peer-focus:text-[#e53935] peer-focus:text-sm pointer-events-none\"\r\n          >\r\n            Password\r\n          </label>\r\n        </div>\r\n\r\n        <!-- Submit -->\r\n        <button\r\n          type=\"submit\"\r\n          class=\"w-full py-3 rounded-xl font-semibold text-white bg-[#e53935] shadow-md hover:bg-red-600 hover:scale-105 transform transition-all\"\r\n        >\r\n          Sign In\r\n        </button>\r\n      </form>\r\n\r\n      <!-- Footer -->\r\n      <p class=\"mt-6 text-center text-gray-500 text-sm\">\r\n        Donâ€™t have an account?\r\n        <router-link\r\n          to=\"/signup\"\r\n          class=\"ml-2 inline-block text-[#e53935] font-bold px-4 py-2 rounded-lg hover:bg-red-600 transition\"\r\n        >\r\n          Sign Up\r\n        </router-link>\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { axiosInstance } from \"@/stores/axios\";\r\nimport { useAuthStore } from \"@/stores/auth/auth\";\r\nimport { useChatStore } from \"@/stores/socket/chat-store\";\r\nimport { getJWTToken, getJWTUser } from \"@/utils/jwt\";\r\n\r\nconst authStore = useAuthStore();\r\nconst chatStore = useChatStore();\r\nconst router = useRouter();\r\n\r\nconst username = ref(\"admin\");\r\nconst password = ref(\"12345678\");\r\n\r\nconst handleLogin = async () => {\r\n  try {\r\n    const res = await axiosInstance.post(\"/auth/login\", {\r\n      username: username.value,\r\n      password: password.value,\r\n    });\r\n    authStore.setAuthData(res.data.data);\r\n\r\n    if (res.data.data) {\r\n      const token = getJWTToken();\r\n      const user = getJWTUser();\r\n      // Connect socket\r\n      if (token && user) {\r\n        chatStore.connect(token);\r\n        chatStore.joinRoom(user.username, user.uuid);\r\n      }\r\n      router.push(\"/home\");\r\n    }\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n// export default {\r\n//   name: \"LoginPage\",\r\n//   data() {\r\n//     return {\r\n//       email: \"\",\r\n//       password: \"\",\r\n//     };\r\n//   },\r\n//   methods: {\r\n//     handleLogin() {\r\n//       // if (this.email && this.password) {\r\n//       //   this.$emit(\"login-success\");\r\n//       //   this.$router.push(\"/home\");\r\n//       // } else {\r\n//       //   alert(\"Enter valid credentials\");\r\n//       // }\r\n//     },\r\n//   },\r\n// };\r\n</script>\r\n\r\n<style>\r\n/* Card shadow */\r\n.w-full.max-w-md {\r\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n/* Autofill fix */\r\ninput:-webkit-autofill {\r\n  -webkit-box-shadow: 0 0 0px 1000px white inset;\r\n  -webkit-text-fill-color: #111;\r\n  transition: background-color 5000s ease-in-out 0s;\r\n}\r\n</style>\r\n","import script from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=1bf40d0a&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["authStore","useAuthStore","chatStore","useChatStore","router","useRouter","username","ref","password","handleLogin","async","res","axiosInstance","post","value","setAuthData","data","token","getJWTToken","user","getJWTUser","connect","joinRoom","uuid","push","err","console","error","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","class","onSubmit","_withModifiers","_hoisted_3","$event","type","required","autocomplete","placeholder","_hoisted_4","_hoisted_5","_createVNode","_component_router_link","to","_cache","__exports__"],"sourceRoot":""}